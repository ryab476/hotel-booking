<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <h2>–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ—Å—Ç</h2>
  <button id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å ping</button>

  <script>
    const tg = window.Telegram.WebApp;

    console.log("initData:", tg.initData);
    tg.ready();
    tg.expand();

    document.getElementById("sendBtn").addEventListener("click", () => {
      const data = { ping: "pong" };
      console.log("üëâ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram:", data);

      tg.sendData(JSON.stringify(data)); // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –±–æ—Ç–∞
      tg.close(); // –∑–∞–∫—Ä—ã–≤–∞–µ–º Mini App
    });

    // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç –Ω–µ –∏–∑ Telegram
    if (!tg.initData || tg.initData === "") {
      alert("‚ö†Ô∏è –û—Ç–∫—Ä–æ–π —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞, –∞ –Ω–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä!");
    }
  </script>
</body>
</html>
